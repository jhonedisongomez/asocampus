<link rel="import" href="../elements.html">

<dom-module id="profile-user">

    <style>
        .container {
        @apply(--layout-horizontal);

        }
        .paper-card-0 .header.paper-card .title-text.paper-card {
            padding: 16px;
            font-size: 24px;
            font-weight: 400;
            color: white;
        }

        #bntEdit{
            width: 95%;
            background: #06780b;
            color: white;
        }

    </style>

    <template>
        <div class="horizontal layout wrap" style="">

            <iron-ajax id ="ajax-profile"
                       on-response="response"
                       url = ""
                       handle-as="json">
            </iron-ajax>

            <template is="dom-repeat" items="[[profile]]">

            <div   style="margin-left: 10px;
              margin-top: 20px;
              max-width: 350px;">

                <paper-card
                heading="Mi perfil"
                style="max-width: 100%;
                min-width: 100%;
                margin: auto;
                margin: 20px;"
                class="cyan">

                    <div class="card-actions">

                        <div class="">
                            <h3>Nombre completo:</h3>
                            <div class="content-card">
                                <span>[[ item.name]]</span>

                            </div>
                        </div>

                        <div class="">
                            <h3>Documento:</h3>
                            <div class="content-card">
                                 <span>[[ item.document_id]]</span>
                            </div>
                        </div>

                        <div class="">
                            <h3>telefono fijo:</h3>
                            <div class="content-card">
                                 <span>[[ item.mobil_number]]</span>

                            </div>
                        </div>

                        <div class="">
                            <h3>Celular:</h3>
                            <div class="content-card">
                            </div>
                        </div>

                        <div class="">
                            <h3>Email:</h3>
                            <div class="content-card">
                                <span>[[item.email]]</span>
                            </div>
                        </div>

                    </div>
                    <div class="card-actions">
                        <paper-button id="bntEdit" on-click="openDialogFunction">Editar</paper-button>
                    </div>

                </paper-card>
            </div>
            </template>

        </div>

        <paper-dialog entry-animation="scale-up-animation"
                      exit-animation="fade-out-animation" id="dlgEditProfile"
                        modal = "true">
            <h2>Editar perfil</h2>

            <div id="dialog-body">
                <paper-dialog-scrollable>
                 <form is="iron-form" id="sign-in-form" style="width: 350px;">
                    <paper-dropdown-menu label="Tipo de documento">
                      <paper-listbox slot="dropdown-content" selected="0">
                        <paper-item>Por favor seleccione una opción</paper-item>
                        <paper-item>allosaurus</paper-item>
                        <paper-item>brontosaurus</paper-item>
                        <paper-item>carcharodontosaurus</paper-item>
                        <paper-item>diplodocus</paper-item>
                      </paper-listbox>
                    </paper-dropdown-menu>

                      <paper-input required auto-validate error-message="no se permite espacios en blanco" id="name"
                                   label="Primer nombre" required></paper-input>

                      <paper-input required auto-validate error-message="no se permite espacios en blanco" id="name"
                                   label="Segundo nombre" required></paper-input>

                      <paper-input required auto-validate error-message="no se permite espacios en blanco" id="name"
                                   label="Primer apellido" required></paper-input>


                      <paper-input required auto-validate error-message="no se permite espacios en blanco" id="name"
                                   label="Segundo apellido" required></paper-input>

                      <paper-button on-click="signIn" raised style="width: 100%;margin-top: 23px;background:#06780b;
                          color: white;" >EDITAR</paper-button>

                 </form>
                    </paper-dialog-scrollable>

            </div>


                </form>
            <div class="buttons">
                <paper-button dialog-dismiss>Cerrar</paper-button>

            </div>

        </paper-dialog>


    </template>

</dom-module>

<script>
    Polymer({
        is: "profile-user",
        properties: {
        },

        ready: function()
        {
            var url = ""
            url = document.URL;
            var ajaxUrl = "?load=true"
            url = url + ajaxUrl;
            this.querySelector('iron-ajax#ajax-profile').url = url
            this.querySelector('iron-ajax#ajax-profile').generateRequest();
        },

        response: function(request){

            console.log(request.detail.response);
            this.profile = request.detail.response.data;

        },

        openDialogFunction:function(event){
            this.$.dlgEditProfile.center();
            this.$.dlgEditProfile.open();
        },

    });

</script>